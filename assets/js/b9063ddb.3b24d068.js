"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[1706],{5144(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"ai-sdk/tracing","title":"AI Tracing & Monitoring","description":"RavenLens provides powerful tracking capabilities for both direct AI provider usage and AI Agents.","source":"@site/docs/ai-sdk/tracing.md","sourceDirName":"ai-sdk","slug":"/ai-sdk/tracing","permalink":"/docs/ai-sdk/tracing","draft":false,"unlisted":false,"editUrl":"https://github.com/RavenLens/documentation-ravenlens-api-sdk/tree/main/docs/ai-sdk/tracing.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Session Management & Recording","permalink":"/docs/ai-sdk/sessions"}}');var r=s(4848),a=s(8453);const t={},o="AI Tracing & Monitoring",c={},p=[{value:"AI Providers",id:"ai-providers",level:2},{value:"Supported Providers",id:"supported-providers",level:3},{value:"Basic Usage (Without Session)",id:"basic-usage-without-session",level:3},{value:"Usage with Sessions",id:"usage-with-sessions",level:3},{value:"Approach 1: Explicit Session Generation",id:"approach-1-explicit-session-generation",level:4},{value:"Approach 2: Chaining Sessions",id:"approach-2-chaining-sessions",level:4},{value:"AI Agents",id:"ai-agents",level:2},{value:"BeeAI Framework Example",id:"beeai-framework-example",level:3}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ai-tracing--monitoring",children:"AI Tracing & Monitoring"})}),"\n",(0,r.jsx)(n.p,{children:"RavenLens provides powerful tracking capabilities for both direct AI provider usage and AI Agents."}),"\n",(0,r.jsx)(n.h2,{id:"ai-providers",children:"AI Providers"}),"\n",(0,r.jsx)(n.p,{children:"You can track requests to various AI providers. The SDK wraps the provider's client and automatically sends telemetry data to RavenLens."}),"\n",(0,r.jsx)(n.h3,{id:"supported-providers",children:"Supported Providers"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"OpenAI"}),"\n",(0,r.jsx)(n.li,{children:"Google Vertex AI / Gemini"}),"\n",(0,r.jsx)(n.li,{children:"Anthropic"}),"\n",(0,r.jsx)(n.li,{children:"Groq"}),"\n",(0,r.jsx)(n.li,{children:"And more..."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"basic-usage-without-session",children:"Basic Usage (Without Session)"}),"\n",(0,r.jsx)(n.p,{children:"Each trace acts as an individual tracking unit."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'import OpenAI from \'openai\';\nimport { OpenAITracker } from \'@ravenlens/ai-sdk\';\n\n// Initialize OpenAI\nconst openai = new OpenAI({\n    apiKey: process.env.OPENAI_API_KEY\n});\n\n// Initialize Tracker with RavenLens configuration\nconst tracker = new OpenAITracker(openai, {\n    apiKey: process.env.RAVENLENS_API_KEY,\n    apiVersion: "1.0",\n    appID: process.env.RAVENLENS_APP_ID,\n    user: { // User object is optional\n        id: "your-user-id",\n    }\n});\n\nconst { response, sessionId, traceId } = await tracker.ask({\n    messages: [{ role: "user", content: "What is the capital of France?" }],\n    model: "gpt-4",\n});\n\nconst answer = response.choices[0]?.message?.content;\nconsole.log(\'Answer: \', answer);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"usage-with-sessions",children:"Usage with Sessions"}),"\n",(0,r.jsx)(n.p,{children:"Connecting traces to sessions gives you a full conversational history."}),"\n",(0,r.jsx)(n.h4,{id:"approach-1-explicit-session-generation",children:"Approach 1: Explicit Session Generation"}),"\n",(0,r.jsx)(n.p,{children:"Generate a session ID first and pass it to the tracker."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'import OpenAI from \'openai\';\nimport { OpenAITracker, RavenLens } from \'@ravenlens/ai-sdk\';\n\nconst raven = new RavenLens({\n    apiKey: process.env.RAVENLENS_API_KEY,\n    appId: process.env.RAVENLENS_APP_ID\n});\n\nasync function main() {\n    // 1. Generate new Session ID\n    const sessionId = await raven.sessions.generateNewSessionId();\n\n    // 2. Initialize Tracker with existing Session ID\n    const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });\n    const tracker = new OpenAITracker(openai, {\n        apiKey: process.env.RAVENLENS_API_KEY,\n        apiVersion: "1.0",\n        appID: process.env.RAVENLENS_APP_ID,\n        sessionId: sessionId // Connects this trace to the session\n    });\n\n    const { response } = await tracker.ask({\n        messages: [{ role: "user", content: "Hello!" }],\n        model: "gpt-4",\n    });\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"approach-2-chaining-sessions",children:"Approach 2: Chaining Sessions"}),"\n",(0,r.jsx)(n.p,{children:"Use the session ID returned from the first call for subsequent calls."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// ... inside a loop or consecutive calls\nconst { response, sessionId } = await tracker.ask({ ... });\n\n// Use retrieved `sessionId` for the next tracker initialization\nconst nextTracker = new OpenAITracker(openai, {\n    ...,\n    sessionId: sessionId\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"ai-agents",children:"AI Agents"}),"\n",(0,r.jsx)(n.p,{children:"RavenLens supports tracking for Agent frameworks like BeeAI and LangChain."}),"\n",(0,r.jsx)(n.h3,{id:"beeai-framework-example",children:"BeeAI Framework Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'import { ReActAgent } from "beeai-framework/agents/react/agent";\nimport { OllamaChatModel } from "beeai-framework/adapters/ollama/backend/chat";\nimport { UnconstrainedMemory } from "beeai-framework/memory/unconstrainedMemory";\nimport { BeeAiTracker, withRavenLens } from "@ravenlens/ai-sdk"\n\nconst tracker = new BeeAiTracker({\n    apiKey: process.env.RAVENLENS_API_KEY,\n    apiVersion: "1.0",\n    appID: process.env.RAVENLENS_APP_ID,\n    // sessionId: "...", // Optional: for session grouping\n});\n\n// 1. Initialize LLM\nconst llm = new OllamaChatModel("granite4:micro");\n\n// 2. Wrap LLM with RavenLens\nconst trackedLLM = withRavenLens(llm, tracker.config);\n\n// 3. Create Agent with tracked LLM\nconst agent = new ReActAgent({\n    llm: trackedLLM,\n    tools: [],\n    memory: new UnconstrainedMemory(),\n});\n\n// 4. Wrap Agent\nconst trackedAgent = withRavenLens(agent, tracker.config);\n\n// 5. Run and Observe\nconst { response, sessionId, traceId } = await trackedAgent\n    .run({ prompt: "Help me with observability." })\n    .observe(tracker.observer());\n'})})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>o});var i=s(6540);const r={},a=i.createContext(r);function t(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);