"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[1706],{5144(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>t,metadata:()=>s,toc:()=>p});const s=JSON.parse('{"id":"ai-sdk/tracing","title":"AI Tracing & Monitoring","description":"RavenLens provides powerful tracking capabilities for both direct AI provider usage and AI Agents.","source":"@site/docs/ai-sdk/tracing.md","sourceDirName":"ai-sdk","slug":"/ai-sdk/tracing","permalink":"/docs/ai-sdk/tracing","draft":false,"unlisted":false,"editUrl":"https://github.com/RavenLens/documentation-ravenlens-api-sdk/tree/main/docs/ai-sdk/tracing.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Session Management & Recording","permalink":"/docs/ai-sdk/sessions"}}');var i=r(4848),a=r(8453);const t={},o="AI Tracing & Monitoring",c={},p=[{value:"AI Providers",id:"ai-providers",level:2},{value:"Supported Providers",id:"supported-providers",level:3},{value:"Basic Usage (Without Session)",id:"basic-usage-without-session",level:3},{value:"Usage with Sessions",id:"usage-with-sessions",level:3},{value:"Approach 1: Explicit Session Generation",id:"approach-1-explicit-session-generation",level:4},{value:"Approach 2: Chaining Sessions",id:"approach-2-chaining-sessions",level:4},{value:"AI Agents",id:"ai-agents",level:2},{value:"BeeAI Framework Example",id:"beeai-framework-example",level:3}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"ai-tracing--monitoring",children:"AI Tracing & Monitoring"})}),"\n",(0,i.jsx)(n.p,{children:"RavenLens provides powerful tracking capabilities for both direct AI provider usage and AI Agents."}),"\n",(0,i.jsx)(n.h2,{id:"ai-providers",children:"AI Providers"}),"\n",(0,i.jsx)(n.p,{children:"You can track requests to various AI providers. The SDK wraps the provider's client and automatically sends telemetry data to RavenLens."}),"\n",(0,i.jsx)(n.h3,{id:"supported-providers",children:"Supported Providers"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"OpenAI"}),"\n",(0,i.jsx)(n.li,{children:"Google Vertex AI / Gemini"}),"\n",(0,i.jsx)(n.li,{children:"Anthropic"}),"\n",(0,i.jsx)(n.li,{children:"Groq"}),"\n",(0,i.jsx)(n.li,{children:"And more..."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"basic-usage-without-session",children:"Basic Usage (Without Session)"}),"\n",(0,i.jsx)(n.p,{children:"Each trace acts as an individual tracking unit."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'import OpenAI from \'openai\';\r\nimport { OpenAITracker } from \'@ravenlens/ai-sdk\';\r\n\r\n// Initialize OpenAI\r\nconst openai = new OpenAI({\r\n    apiKey: process.env.OPENAI_API_KEY\r\n});\r\n\r\n// Initialize Tracker with RavenLens configuration\r\nconst tracker = new OpenAITracker(openai, {\r\n    apiKey: process.env.RAVENLENS_API_KEY,\r\n    apiVersion: "1.0",\r\n    appID: process.env.RAVENLENS_APP_ID,\r\n    user: { // User object is optional\r\n        id: "your-user-id",\r\n    }\r\n});\r\n\r\nconst { response, sessionId, traceId } = await tracker.ask({\r\n    messages: [{ role: "user", content: "What is the capital of France?" }],\r\n    model: "gpt-4",\r\n});\r\n\r\nconst answer = response.choices[0]?.message?.content;\r\nconsole.log(\'Answer: \', answer);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"usage-with-sessions",children:"Usage with Sessions"}),"\n",(0,i.jsx)(n.p,{children:"Connecting traces to sessions gives you a full conversational history."}),"\n",(0,i.jsx)(n.h4,{id:"approach-1-explicit-session-generation",children:"Approach 1: Explicit Session Generation"}),"\n",(0,i.jsx)(n.p,{children:"Generate a session ID first and pass it to the tracker."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'import OpenAI from \'openai\';\r\nimport { OpenAITracker, RavenLens } from \'@ravenlens/ai-sdk\';\r\n\r\nconst raven = new RavenLens({\r\n    apiKey: process.env.RAVENLENS_API_KEY,\r\n    appId: process.env.RAVENLENS_APP_ID\r\n});\r\n\r\nasync function main() {\r\n    // 1. Generate new Session ID\r\n    const sessionId = await raven.sessions.generateNewSessionId();\r\n\r\n    // 2. Initialize Tracker with existing Session ID\r\n    const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });\r\n    const tracker = new OpenAITracker(openai, {\r\n        apiKey: process.env.RAVENLENS_API_KEY,\r\n        apiVersion: "1.0",\r\n        appID: process.env.RAVENLENS_APP_ID,\r\n        sessionId: sessionId // Connects this trace to the session\r\n    });\r\n\r\n    const { response } = await tracker.ask({\r\n        messages: [{ role: "user", content: "Hello!" }],\r\n        model: "gpt-4",\r\n    });\r\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"approach-2-chaining-sessions",children:"Approach 2: Chaining Sessions"}),"\n",(0,i.jsx)(n.p,{children:"Use the session ID returned from the first call for subsequent calls."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// ... inside a loop or consecutive calls\r\nconst { response, sessionId } = await tracker.ask({ ... });\r\n\r\n// Use retrieved `sessionId` for the next tracker initialization\r\nconst nextTracker = new OpenAITracker(openai, {\r\n    ...,\r\n    sessionId: sessionId\r\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ai-agents",children:"AI Agents"}),"\n",(0,i.jsx)(n.p,{children:"RavenLens supports tracking for Agent frameworks like BeeAI and LangChain."}),"\n",(0,i.jsx)(n.h3,{id:"beeai-framework-example",children:"BeeAI Framework Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'import { ReActAgent } from "beeai-framework/agents/react/agent";\r\nimport { OllamaChatModel } from "beeai-framework/adapters/ollama/backend/chat";\r\nimport { UnconstrainedMemory } from "beeai-framework/memory/unconstrainedMemory";\r\nimport { BeeAiTracker, withRavenLens } from "@ravenlens/ai-sdk"\r\n\r\nconst tracker = new BeeAiTracker({\r\n    apiKey: process.env.RAVENLENS_API_KEY,\r\n    apiVersion: "1.0",\r\n    appID: process.env.RAVENLENS_APP_ID,\r\n    // sessionId: "...", // Optional: for session grouping\r\n});\r\n\r\n// 1. Initialize LLM\r\nconst llm = new OllamaChatModel("granite4:micro");\r\n\r\n// 2. Wrap LLM with RavenLens\r\nconst trackedLLM = withRavenLens(llm, tracker.config);\r\n\r\n// 3. Create Agent with tracked LLM\r\nconst agent = new ReActAgent({\r\n    llm: trackedLLM,\r\n    tools: [],\r\n    memory: new UnconstrainedMemory(),\r\n});\r\n\r\n// 4. Wrap Agent\r\nconst trackedAgent = withRavenLens(agent, tracker.config);\r\n\r\n// 5. Run and Observe\r\nconst { response, sessionId, traceId } = await trackedAgent\r\n    .run({ prompt: "Help me with observability." })\r\n    .observe(tracker.observer());\n'})})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453(e,n,r){r.d(n,{R:()=>t,x:()=>o});var s=r(6540);const i={},a=s.createContext(i);function t(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);